<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PulmoDetectTB</title>

    <!-- Stylesheets -->
    

    <link rel="stylesheet" href="res\css\bootstrap-3.3.7.min.css">
    <link rel="stylesheet" href="res\css\bootstrap-theme-3.3.7.min.css">
    <link rel="stylesheet" href="res\css\style.css" type="text/css" media="all">
    
    <link rel="stylesheet" href="res\int_css\animate.min.css">
    <link rel="stylesheet" href="res\int_css\bootstrap.css.map">
    <link rel="stylesheet" href="res\int_css\bootstrap.min.css">
    <link rel="stylesheet" href="res\int_css\font-awesome.min.css">
    <link rel="stylesheet" href="res\int_css\style.css">
    <link rel="stylesheet" href="res\int_css\normalize.css">
    <link rel="stylesheet" href="res\int_css\tb.css">
    <link rel="stylesheet" href="res\int_css\w3.css">
    <link rel="stylesheet" href="res\int_css\nice-select.css">
    <link rel="stylesheet" href="res\int_css\owl.carousel.min.css">
    <link rel="stylesheet" href="res\int_css\jquery.mCustomScrollbar.min.css">
    <link rel="stylesheet" href="res\int_css\responsive.css">
    <link rel="stylesheet" href="res\int_css\swipper.css">
    <style>
        .rounded-div {
            border-radius: 20px;
            /* Adjust the value to change the roundness */
            background-color: #ffffff;
            /* Background color of the div */
            padding: 20px;
            margin: 2%;
            width: 96%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .rounded-div-head {
            border-radius: 10px;
            /* Adjust the value to change the roundness */
            background-color: #ffffff;

            color: #ffffff;
            font-size: 20px;
            font-style: italic;
            font-weight: 600;
            /* Background color of the div */
            padding: 5px;
            margin: 10px;
            /* width: 200px; 
          height: 200px;  */
            border: 2px solid #ffffff;
            /* Border of the div */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            /* Optional: Add a shadow effect */
        }

        #file-container {
            background-color: #e7f0f9;
            /* Light gray background */
            border-radius: 10px;
            /* Rounded corners */
            padding: 20px;
            /* Padding */
            margin-top: 20px;
            /* Top margin */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            /* Shadow */
        }

        /* Style for the link */
        #file-container a {
            color: #007bff;
            /* Blue color */
            text-decoration: none;
            /* Remove underline */
            margin-left: 10px;
            /* Left margin */
        }

        /* Style for the input file */
        #files {
            margin-top: 10px;
            /* Top margin */
        }

        
    </style>

    <!-- JavaScript -->
    <script src="res/js/jquery-3.5.1.min.js"></script>
    <script src="res\int_js\bootstrap.bundle.min.js" async></script>
    <script src="res\int_js\bootstrap.bundle.min.js" async></script>
    <script src="res/js/bootstrap-3.3.7.min.js" async></script>
    <script src="res/js/magnify.js" async></script>
    <script src="res/js/js-colormaps.js" async></script>
    <script src="res/js/ssim.js" async></script>
    <script src="res/js/tf-2.0.1.min.js" async></script>
    <script src="res/js/system.js?v=1.204"></script>
    <script src="res/js/magnify.js" async></script>
    
    <script src="res\int_js\app_batch_prediction_code.js" async></script>
    <script src="res\int_js\app_startup_code.js" async></script>
    <script src="res\int_js\bootstrap.bundle.min.js" async></script>
    <script src="res\int_js\bootstrap.js" async></script>
    <script src="res\int_js\bootstrap.min.js" async></script>
    <script src="res\int_js\custom.js" async></script>
    <script src="res\int_js\jquery.mCustomScrollbar.concat.min.js" async></script>
    <script src="res\int_js\jquery.min.js" async></script>
    <script src="res\int_js\jquery.validate.js" async></script>
    <script src="res\int_js\owl.carousel.min.js" async></script>
    <script src="res\int_js\predict103.js" async></script>
    <script src="res\int_js\slider-setting.js" async></script>
    <script src="res\int_js\swipper.js" async></script>
    <script src="res\int_js\target_classes.js" async></script>
    <!-- Custom JavaScript -->
    <script>
        function setCookie(cname, cvalue, exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
            var expires = "expires=" + d.toUTCString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
    </script>
</head>

<body style="background-color: #f0f0f0">
    <header class="header-area">
        <div class="container">
            <div class="row d_flex">
                <div class="navbar-area">
                    <nav class="site-navbar">
                        <ul>
                            <li><a href="http://pulmodetect.gammabytes.tech">Home</a></li>
                            <li><a href="http://pulmodetect.gammabytes.tech/analyse">Analyse</a></li>
                            <li><a href="http://pulmodetect.gammabytes.tech" class="logo_midle"><img src="res\logo.png" alt="Logo"></a></li>                        
                            <li><a href="http://pulmodetect.gammabytes.tech" class="logo_midle">Tuberculosis</a></li>      
                            <li><a class="active" href="#">PulmoPlot</a></li>                        
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </header>

    <div class="col-sm-12 rounded-div" style="margin-top: 20px;">
        <!-- <div class="alert alert-danger" role="alert" background-color: #ff9a9a;>
            <center></center>
        </div> -->
        <center>
            <div class="col-sm-12">
                <div id="file-container" style="display: block">
                    <h4>Process an image locally:</h2>
                        <!-- <input type="file" id="files" name="files[]" multiple> -->

                        <label for="files"
                            style="background-color: #007bff; color: #fff; padding: 10px 20px; border-radius: 5px; cursor: pointer; display: inline-block;">Select
                            Images</label>

                        <!-- Display selected file names -->
                        <div id="file-names" style="margin-top: 10px;"></div>

                        <!-- Actual file input hidden from view -->
                        <input type="file" id="files" name="files[]" "
                            style="display: none;">

                        <a href="javascript:downloadCSV();" style="color: #007bff; display: none ">Download all
                            predictions as CSV</a>
                </div>
            </div>

            <div class="col-sm-12">
                <span id="info" style="color:red"></span>
                <center>
                    <div id="status" class="status"></div>
                </center>
            </div>
    </div>

    <div id="predictions">
        <div id="predtemplate" class="prediction col-xs-12 rounded-div" style="display:none">
            <div class="topbar rounded-div-head" style="background-color: #dc602f;">
                <center><span class="imagename" style="color: #ffffff;">&nbsp;</span></center>
            </div>
            <div class="col-xs-12" style="padding:0px;margin-bottom: 10px">
                <div class="col-xs-8">
                    <center>
                        <div class="toolbar btn-group">
                            <button class="btn btn-light btn-invert-colors" data-original-title="Invert colors">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-circle-half"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M8 15V1a7 7 0 1 1 0 14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
                                </svg> Invert colors
                            </button>
                            <button class="btn btn-light btn-raw-gradients"  data-original-title="raw gradients">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cpu" fill="currentColor"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M5 0a.5.5 0 0 1 .5.5V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2h1V.5a.5.5 0 0 1 1 0V2A2.5 2.5 0 0 1 14 4.5h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14v1h1.5a.5.5 0 0 1 0 1H14a2.5 2.5 0 0 1-2.5 2.5v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14h-1v1.5a.5.5 0 0 1-1 0V14A2.5 2.5 0 0 1 2 11.5H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2v-1H.5a.5.5 0 0 1 0-1H2A2.5 2.5 0 0 1 4.5 2V.5A.5.5 0 0 1 5 0zm-.5 3A1.5 1.5 0 0 0 3 4.5v7A1.5 1.5 0 0 0 4.5 13h7a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 11.5 3h-7zM5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3zM6.5 6a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-3z" />
                                </svg> Raw Gradients
                            </button>
                            <button class="btn btn-light btn-reset-layers" data-original-title="reset layers">
                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-layers"
                                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd"
                                        d="M3.188 8L.264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l-1.063.567L14.438 10 8 13.433 1.562 10 4.25 8.567 3.187 8z" />
                                    <path fill-rule="evenodd"
                                        d="M7.765 1.559a.5.5 0 0 1 .47 0l7.5 4a.5.5 0 0 1 0 .882l-7.5 4a.5.5 0 0 1-.47 0l-7.5-4a.5.5 0 0 1 0-.882l7.5-4zM1.563 6L8 9.433 14.438 6 8 2.567 1.562 6z" />
                                </svg> Reset layers
                            </button>
                        </div>
                    </center>
                </div>
                <div class="col-xs-4">
                    <center style=""><b style="color: #00458e; font-weight: 600;">Pathology Risk</b>
                        <br><span style="font-size: small; color: #6c757d;">The white center region indicates that the
                            model is not sure.</span>
                    </center>
                </div>
            </div>

            <div class="col-xs-7" style="">
                <div class="viewbox" style="height: 800px;">
                    <canvas class="layer inputimage_highres baselayer"></canvas>
                    <canvas class="layer inputimage" style="display:none;"></canvas>
                    <canvas class="layer inputimage_rec" style="display:none;"></canvas>
                    <canvas class="layer recimage" style="display:none;"></canvas>
                    <canvas class="layer oodimage" style="opacity: 0.5;display:none;"></canvas>
                    <canvas class="layer gradimage" style="filter:blur(0.89rem)"></canvas>
                    <center class="layer loading" style="display:none;margin-top:5%;width:100%;"><img
                            style="width:400px;" alt="Loading..." src="res/loading1.gif" /></center>
                </div>
                <center><span class="desc"></span></center>
            </div>
            <div class="col-xs-5 predviz">
                <center class="loading"><img style="margin-top:40%;" alt="Loading..." src="res\yoS0cXm.gif" /></center>

                <center>
                    <div class="predbox" style="width:100%;color:black">
                    </div>
                </center>
            </div>
        </div>
        <hr>
    </div>
    <canvas id="zoom" width="100" height="50" style="width:400px; height:200px;position:absolute; top:0; left:0; display:none;image-rendering:pixelated"></canvas>
    <div style="margin: 10px;" ></div>
    <footer>
        <div class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-lg-2 col-md-6 col-sm-6">
                        <div class="hedingh3 text_align_left">
                            <h3>Resources</h3>
                            <ul class="menu_footer">
                                <li><a href="http://pulmodetect.gammabytes.tech">Home</a><li>
                                <li><a href="http://pulmodetect.gammabytes.tech/analyse">Analyse</a><li>
                                <li> <a href="http://pulmodetect.gammabytes.tech">Tuberculosis</a><li>
                                <li><a href="#">PulmoPlot</a><li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-6">
                        <div class="hedingh3 text_align_left">
                            <h3>About</h3>
                            <p>Our project employs image analysis techniques to assist doctors in diagnosing tuberculosis by providing detailed insights from patient chest X-rays.</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 col-sm-6">
                        <div class="hedingh3  text_align_left">
                            <h3>Contact  Us</h3>
                            <ul class="top_infomation">
                                <li><i class="fa fa-map-marker" aria-hidden="true"></i>
                                GammaBytes Support  
                                </li>
                                <li><i class="fa fa-phone" aria-hidden="true"></i>
                                Call : +91 77385 74300
                                </li>
                                <li><i class="fa fa-envelope" aria-hidden="true"></i>
                                <a href="Javascript:void(0)">Email : gammabytes.sup@gmail.com</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 col-sm-6">
                        <div class="hedingh3 text_align_left">
                            <!-- <h3>countrys</h3>
                            <div class="map">
                                <img src="{% static 'analysis/images/map.png' %}" alt="#"/>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <div class="container">
                    <div class="row">
                        <div class="col-md-8 offset-md-2">
                            <p>© 2024 All Rights Reserved. Design by <a href="http://pulmodetect.gammabytes.tech"> GammaBytes</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script>
        let statusElement;
        let status;
    
        $(function () {
            statusElement = document.getElementById('status');
            status = function (msg) { statusElement.innerText = msg; console.log("Status: " + msg) };
    
            testBrowser();
            run(); // Call the run function directly when the DOM is ready
    
            // Optional: Hide the button after the model has been loaded
            $("#agree").hide();
        });
    
        function testBrowser() {
            try {
                new Promise(function (resolve) { setTimeout(resolve, 1) });
            } catch (err) {
                status("Error! Your browser may be unsupported. (" + err.message + ")");
                console.log(err);
            }
        }
    </script>
</body>

</html>